{% extends "base.html" %}
{% load static %}

<!-- Styles-->
{% block stylesheets %}
<!-- AOS Library CSS -->

<link rel="stylesheet" href="{% static 'css/aos.css' %}" />


<!-- Styles -->
<style>
    .custom-bg-color {
        background-color: #17a2b8;
        /* Tu color personalizado */
    }

    @media (max-width: 768px) {
        .navbar-collapse {
            display: none;
        }

        .navbar-toggler {
            display: block;
        }

        .navbar-toggler.collapsed .navbar-collapse {
            display: block;
        }
    }

    .navbar-nav {
        text-align: center;
    }

    .navbar-nav .nav-item {
        margin-left: 15px;
    }

    .navbar-nav .nav-link {
        color: black;
    }
</style>

<!-- Timeline -->
<style>
    .timeline {
        position: relative;
        max-width: 1200px;
        margin: 0 auto;
    }

    .timeline::before {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0%;
        width: 2px;
        background-color: #17a2b8;
        transform: translateX(-50%);
    }

    .timeline-item {
        position: relative;
        padding: 20px 0;
        border-bottom: 2px solid #eee;
        margin-bottom: 20px;
    }

    .timeline-item::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 0%;
        width: 20px;
        height: 20px;
        background-color: #17a2b8;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }

    .timeline-item .timeline-content {
        margin-left: 30px;
    }

    .timeline-item .timeline-title {
        font-size: 18px;
        font-weight: bold;
    }

    .timeline-item .timeline-date {
        font-size: 14px;
        color: #6c757d;
    }
</style>
<!-- Transitions -->



{% endblock %}

<!-- Title-->
{% block title %}
Kevin's Portfolio
{% endblock %}

<!-- Content-->
{% block content %}
<!-- Header -->
<div>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top"> 
        <button class="navbar-toggler"
            type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
            aria-expanded="false" aria-label="Toggle navigation" style="padding-left: 5px; margin-left: 10px;">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#home">Home</a></li>
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#about">About me</a></li>
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#skills">Skills</a></li>
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#experience">Experience</a></li>
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#projects">Projects</a></li>
                <li class="nav-item"><a class="nav-link text-secondary selector" href="#contact">Contact Me</a></li>
            </ul>
        </div>
    </nav>
</div>

<!-- Content-->
<section class="py-5 text-center my-5" id="home" data-aos="fade" style=" position: relative; background-image: url('{% static 'bg/fondo1.jpg' %}'); background-size: cover;
    background-position: center; ">

    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light "><b>Kevin Andrés Rosales Márquez</b></h1>
            <p class="lead text-body-secondary font-weight-bold">
                <b>Developer & Data Analyst</b>
            </p>
            <p>
                <a download href="{% static 'Kevin_Rosales_CV.pdf' %}" class="btn bg-secondary text-white">
                    Download CV
                </a>

                <a href="#contact" class="btn bg-white">Contact Me</a>
            </p>
        </div>
    </div>
</section>
<hr class="featurette-divider" id="about">

<div class="row featurette" data-aos="fade-up">
    <div class="col-md-7 order-md-2">

        <!-- About Me -->
        <section class="py-5">
            <div class="container">
                <div class="row shadow-sm" style="border-radius: 20px;">
                    <div>
                        <h2 class="text-left">About Me</h2>
                        <p class="lead text-justify ">
                            I'm Kevin Rosales
                            Passionate developer & data analyst. Creating innovative solutions and extracting valuable
                            insights from data.
                            Experienced in various programming languages and data analysis tools.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div class="col-md-5 order-md-1 text-center">
        <img src="{% static 'bg/me.jpg' %}"
            class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto shadow-sm" width="300"
            height="300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 300x300"
            preserveAspectRatio="xMidYMid slice" focusable="false" style="border-radius: 20px">

    </div>
</div>

<hr class="featurette-divider" id="skills">

<div class="container px-4 py-5" id="icon-grid" data-aos="fade-left">
    <h2 class="pb-2 border-bottom">Skills</h2>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 py-5">

        {% for skill in skills %}
        <div class="col d-flex align-items-start">
            <div class="container mt-5">
                <h6>{{skill.name}}</h6>

                <div class="progress">
                    <!-- El valor del atributo 'style' indica el progreso actual (en este caso, 50%) -->
                    <div class="progress-bar custom-bg-color text-end" role="progressbar"
                        style="width: {{skill.level}}%;" aria-valuenow="{{skill.level}}" aria-valuemin="0"
                        aria-valuemax="100">
                        {{ skill.level_char }}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}



    </div>
</div>


<hr class="featurette-divider" id="experience">

<div class="container mt-5 " data-aos="fade-left">
    <h2 class="pb-2 border-bottom">Experience</h2>
    <div class="timeline">
        {% for experience in experiences %}
        <div class="timeline-item">
            <div class="timeline-content">
                <h2 class="timeline-title">{{ experience.title }} - {{ experience.company }}</h2>
                <p class="timeline-date">{{ experience.start_date }} - {{ experience.end_date }}</p>
                <p>{{ experience.description }}</p>
            </div>
        </div>
        {% endfor %}
        <!-- Add more timeline items as needed -->
    </div>
</div>

<hr class="featurette-divider" id="projects">


<div class="album py-5" data-aos="slide-up">
    <h2 class="pb-2 border-bottom">Projects</h2>
    <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            {% for project in projects %}
            <div class="col">
                <div class="card shadow-sm">
                    <img src="{{ project.image.url }}" class="card-img-top" alt="" loading="lazy">
                    <div class="card-body">
                        <div class="card-title"> <b>{{ project.name }}</b> </div>
                        <p class="card-text"> {{ project.description }}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal"
                                    data-bs-target="#project{{project.id}}">View</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {% endfor %}

        </div>
    </div>
</div>


<hr class="featurette-divider" id="contact">


<div class="container" data-aos="fade-up-right">
    <div class="row">
        <div class="col-md-6 contact-form my-5">
            <h2>Contact Me</h2>
            <form method="POST" id="contact-form">
                {% csrf_token %}

                <fieldset>
                    {{ form.as_div}}
                </fieldset>
                
                {% for field in form %}
                        {% for error in field.errors %}
                        <div class="alert alert-danger" role="alert">
                            <strong>'{{ field.label }}' {{ error|escape }}</strong>
                        </div>  
                        {% endfor %}
                {% endfor %}

                <button type="submit" class="btn bg-secondary text-white my-5">Contact Me</button>
            </form>
        </div>

        <div class="col-md-6 map-container my-5">
            <iframe
                loading="lazy"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d217361.6577091852!2d-106.6081139367476!3d31.653670611994773!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x86e75ecb3d0b329d%3A0xb196100549c7974!2zSnXDoXJleiwgQ2hpaC4!5e0!3m2!1ses-419!2smx!4v1701129649603!5m2!1ses-419!2smx"
                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </div>
</div>



<footer class="container my-5">

</footer>

<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer>
</script>



<!-- Modal -->
{% for project in projects %}
<div class="modal fade" id="project{{project.id}}" tabindex="-1" aria-labelledby="project{{project.id}}Label"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{ project.name }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Aqui va carrusel-->
                <div class="container row">
                    <div id="project{{project.id}}" class="carousel slide text-center" data-ride="carousel">
                        <div class="carousel-inner">

                            <div class="carousel-item active">
                                <img src="{{ project.image.url }}" class="d-block mx-auto img-fluid" alt="Imagen 1"
                                    width="400px">
                            </div>
                            {% for image in project_images %}
                            {% if image.project == project %}
                            <div class="carousel-item">
                                <img src="{{ image.image.url }}" loading="lazy" class="d-block mx-auto img-fluid" alt="Imagen 1"
                                    width="400px">
                            </div>
                            {% endif %}
                            {% endfor %}

                            <!-- Agrega más items según sea necesario -->
                        </div>
                        <a class="carousel-control-prev" href="#project{{project.id}}" role="button"
                            data-slide="prev">
                            <span class="carousel-control-prev-icon  btn bg-dark" aria-hidden="true"></span>

                        </a>
                        <a class="carousel-control-next" href="#project{{project.id}}" role="button"
                            data-slide="next">
                            <span class="carousel-control-next-icon  btn bg-dark" aria-hidden="true"></span>

                        </a>
                    </div>
                </div>
                <div class="container row">
                    <div class="container-fluid" id="descripcion">
                        <h3>Description</h3>
                        <p>{{ project.description }}</p>

                        
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                {% if project.url %}
                <a href="{{ project.url }}" class="btn btn-primary" target="_blank">URL</a> 
                {% endif %}
                {% if project.url_git %}
                <a href="{{ project.url_git }}" class="btn btn-outline-secondary" target="_blank"> Git URL </a>
                {% endif %}


            </div>
        </div>
    </div>
</div>



{% endfor %}


{% endblock %}